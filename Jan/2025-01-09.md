## ğŸ—“ï¸ 2025-01-09

### ğŸŒ ìŠ¤í¬ëŸ¼

- í•™ìŠµ ëª©í‘œ 1. ì»¤ë®¤ë‹ˆí‹° ë³´ì•ˆ ê°•í™”

### ğŸ’¡ ìƒˆë¡œ ë°°ìš´ ë‚´ìš©

#### 1. XSS ë°©ì–´

- ì…ë ¥ ê°’ê³¼ ì¶œë ¥ ê°’ì— ëŒ€í•´ ì •ê·œì‹ì„ ì‚¬ìš©í•˜ì—¬ HTML íƒœê·¸ì™€ íŠ¹ìˆ˜ ë¬¸ìë¥¼ ì¹˜í™˜í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë°©ì–´
- ì…ë ¥ëœ ë¬¸ìì—´ì—ì„œ &, <, >, ", 'ë¥¼ ê°ê° HTML ì—”í‹°í‹°ë¡œ ì¹˜í™˜
- <script>ì™€ ê°™ì€ HTML íƒœê·¸ ì‚½ì…ì„ ë¬´íš¨í™”í•˜ì—¬ XSS ê³µê²© ë°©ì§€
- ëŒ“ê¸€, ê²Œì‹œê¸€ ì œëª© ë“± ì‚¬ìš©ì ì…ë ¥ê°’ì— ëŒ€í•œ ì¶œë ¥ ì‹œ ë³´ì•ˆ ê°•í™”

```js
escapeHtml(str) {
  return str
    .replace(/&/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;')
    .replace(/'/g, '&#039;')
}
```

#### 2. Rate Limiting

- **express-rate-limit**ë¥¼ í™œìš©í•˜ì—¬ API ìš”ì²­ íšŸìˆ˜ë¥¼ ì œí•œ

```js
import rateLimit from 'express-rate-limit'

const loginLimiter = rateLimit({
  windowMs: 5 * 60 * 1000, // 5ë¶„
  max: 10,
  message: 'Too many login attempts, please try again later.',
})

const commentLimiter = rateLimit({
  windowMs: 10 * 60 * 1000, // 10ë¶„
  max: 20,
  message: 'Too many comments, please try again later.',
})

app.use('/api/auth/login', loginLimiter)
app.use('/api/comments', commentLimiter)
```

#### 3. HTTP í—¤ë” ê°•í™”

- **helmet**ì„ ì‚¬ìš©í•˜ì—¬ HTTP í—¤ë” ë³´ì•ˆ ì„¤ì • ê°•í™”

```js
import helmet from 'helmet'
app.use(helmet())
```

- í´ë¦­ì¬í‚¹ ë°©ì§€ (X-Frame-Options)
- ìŠ¤ë‹ˆí•‘ ë°©ì§€ (X-Content-Type-Options)
- ë¸Œë¼ìš°ì € XSS í•„í„° í™œì„±í™” (X-XSS-Protection)

### ğŸ‘ğŸ» ì˜¤ëŠ˜ì˜ íšŒê³ 

- ë‹¤ë¥¸ ë¶„ë“¤ QA ë°›ëŠ” ê±¸ ë³´ë©´ì„œ ë‚˜ë„ ë³´ì•ˆ ì·¨ì•½ì ì„ ë³´ì™„í•´ì•¼ì§€ ìƒê°í–ˆëŠ”ë° ë§ì´ ì²˜ë¦¬ëœ ê±° ê°™ì•„ ë¿Œë“¯í•˜ë‹¤.

### ğŸ”— ì°¸ê³  ìë£Œ ë° ë§í¬

- [helmet ë ˆí¼ëŸ°ìŠ¤](https://inpa.tistory.com/entry/NODE-ë³´ì•ˆ-ğŸ“š-helmet-ëª¨ë“ˆ-ì‚¬ìš©ë²•-ì›¹-ë³´ì•ˆì€-ë‚´ê°€-ğŸ‘®)
